{{#with (component 'gist-header'
  class='flex'
  model=model
  session=session
  unsaved=unsaved
  activeFile=activeFile
  isRevision=isRevision
  titleChanged=(action 'titleChanged')
  addFile=(action 'addFile')
  addHelper=(action 'addHelper')
  addComponent=(action 'addComponent')
  addUnitTestFile=(action 'addUnitTestFile')
  addIntegrationTestFile=(action 'addIntegrationTestFile')
  addAcceptanceTestFile=(action 'addAcceptanceTestFile')
  versionChanged=(action 'rebuildApp')
  openFile=(action 'openFile')
  hideFileTree=(action 'hideFileTree')
) as |twiddleSidebar|}}
  {{#sidebar-container sidenavLockedOpen=sidenavLockedOpen leftSideBarOpen=leftSideBarOpen sidebarContentComponent=twiddleSidebar as |sidebar|}}
    {{gist-body model=model
      sidebarToggle=sidebar.sidebarToggle
      columns=columns
      settings=settings
      numColumns=realNumColumns
      fullScreen=fullScreen
      fileTreeShown=fileTreeShown
      notify=notify
      isBuilding=isBuilding
      buildErrors=buildErrors
      applicationUrl=applicationUrl
      buildOutput=buildOutput
      testsEnabled=testsEnabled
      activeEditorCol=activeEditorCol
      renameFile=(action 'renameFile')
      removeFile=(action 'showRemoveFileConfirmation')
      selectFile=(action 'selectFile')
      focusEditor=(action 'focusEditor')
      updateColumn=(action 'updateColumn')
      removeColumn=(action 'removeColumn')
      addColumn=(action 'addColumn')
      showFileTree=(action 'showFileTree')
      liveReloadChanged=(action 'liveReloadChanged')
      runNow=(action 'runNow')
      exitFullScreen=(action 'exitFullScreen')
      switchTests=(action 'switchTests')
    }}
  {{/sidebar-container}}
{{/with}}

{{#if showRemoveFileModal}}
  {{#paper-dialog class='flex-77' onClose=(action 'hideRemoveFileConfirmation') clickOutsideToClose=true parent=filePanelId}}
    {{#paper-toolbar}}
      {{#paper-toolbar-tools}}
        <h2>Delete File?</h2>
        <span class='flex'></span>
        {{#paper-button iconButton=true onClick=(action 'hideRemoveFileConfirmation')}}
          {{paper-icon icon='close'}}
        {{/paper-button}}
      {{/paper-toolbar-tools}}
    {{/paper-toolbar}}

    {{#paper-dialog-content}}
      Are you sure you want to remove this file?<br><br>
      
      <code>{{fileToRemove.filePath}}</code>
    {{/paper-dialog-content}}

    {{#paper-dialog-actions class='layout-row'}}
      {{#paper-button onClick=(action 'hideRemoveFileConfirmation')}}Cancel{{/paper-button}}
      <span class='flex'></span>
      {{#paper-button primary=true raised=true onClick=(action 'removeFile')}}Remove{{/paper-button}}
    {{/paper-dialog-actions}}
  {{/paper-dialog}}
{{/if}}
